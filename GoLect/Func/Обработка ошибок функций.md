# Обработка ошибок функций
_**Error return** механизм возврата ошибок из функции в Golang._

---

Тип ошибки представлен интерфейсом `error`. Функция может вернуть значение `nil` если ошибок не произошло, или значение, реализующее интерфейс `error`, если ошибка произошла.
```go
func divide(a, b float64) (float64, error) {
	if b == 0 { 
		return 0, fmt.Errorf("division by zero") 
	} 
	return a / b, nil 
}
```
В этом примере функция divide возвращает результат деления a на b и ошибку, если b равно 0. Если ошибки не произошло, то возвращается nil.

## Обработка ошибок
_процесс обнаружения и устранения ошибок в программе_

---

Механизм `error return` - при вызове функции, которая может вернуть ошибку, необходимо проверить значение ошибки. Если значение ошибки не равно `nil`, то произошла ошибк и ее необходимо обработать
```go
result, err := divide(10, 0)
if err != nil {
	log.Fatal(err)
}
fmt.Println(result)
```
В этом примере мы вызываем функцию divide с аргументами 10 и 0. Функция вернет ошибку, так как деление на 0 невозможно. Мы проверяем значение ошибки и, если она произошла, выводим ее в лог и завершаем программу.

Операторы if имеют опциональное условие назначения, которое можно использовать для сжатия вызова функции и обработки ее ошибок.
```go
if _, err := divide(10,0); err != nil {
	log.Fatal(err)
}
fmt.Println(result)
```

## Panic
_механизм аварийной остановки программы_

---
Может быть вызван в любой точке программы и приводит к немедленной остановке программы. Это плохая практика, тк оно может привести к потере данных и неожиданному поведению программы. Следует использовать `error return` для обработки ошибок

## Чистые функции
_функции, которые не имеют побочных эффектов и всегда возвращают одинаковый результат для одинаковых аргументов_

---
Такие функции легче тестировать тк они не зависят от состояния программы. Обработку ошибок можно выполнить с помощью `error return`.