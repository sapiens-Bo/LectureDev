# Бенчмарк
_процесс измерения производительности программного обеспечения; позволяет определить время выполнения определенного блока кода или функции_

---

В Golang бенчмарк представлен в виде функции, которая начинается с ==префикса Benchmark==. Функция должна ==принимать объект типа== `*testing.B`, который представляет методы для запуска бенчмаркаи и измерения времени выполнения. 

Пример функции бенчмарка в Golang:

```go
func BenchmarkMyFunction(b *testing.B) {// сигнатура функции
	//бенчмарка, обязательно должна начинаться с префикса "Benchmark"
    for i := 0; i < b.N; i++ { // запускаем бенчмарк
        myFunction()
    }
}
```
В этом примере мы создаем функцию бенчмарка с именем “BenchmarkMyFunction”, которая будет вызывать функцию “myFunction” b.N раз. Переменная b.N определяет количество итераций бенчмарка.

**Reset timer** в бенчмарке - это функция, которая позволяет сбросить таймер перед выполнением каждой итерации бенчмарка, что позволяет получить более точные результаты измирения.

---
## Примеры

В Golang есть несколько хаков, которые можно использовать для улучшения производительности бенчмарков. Один из таких хаков — это использование пакета sync/atomic для атомарных операций.

```go
import (
    "sync/atomic"
    "testing"
)

func BenchmarkAtomicIncrement(b *testing.B) {
    var counter int64
    for i := 0; i < b.N; i++ {
        atomic.AddInt64(&counter, 1)
    }
}
```

В этом примере мы используем функцию atomic.AddInt64 для атомарного инкремента переменной counter. Это позволяет избежать блокировки при выполнении операции инкремента и улучшить производительность бенчмарка.

Пример использования reset timer в бенчмарке в Golang:

```go
func BenchmarkMyFunction(b *testing.B) { // сигнатура функции
	//бенчмарка, обязательно должна начинаться с префикса "Benchmark"
    GenerateSomeData() // генерируем данные для бенчмарка
    b.ResetTimer() // сбрасываем таймер перед выполнением функции,
    //чтобы не учитывать время генерации данных
    for i := 0; i < b.N; i++ { // запускаем бенчмарк
        myFunction()
    }
}
```

В этом примере мы добавляем вызов функции b.ResetTimer() после генерации данных. Это позволяет сбросить таймер, чтобы не учитывать время генерации данных в результате бенчмарка.